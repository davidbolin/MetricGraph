<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Augment data with information from a graph_lme object — augment.graph_lme • MetricGraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Augment data with information from a graph_lme object — augment.graph_lme"><meta name="description" content="Augment accepts a model object and a dataset and adds information about each observation in the dataset. It includes
predicted values in the .fitted column, residuals in the .resid column, and standard errors for the fitted values in a .se.fit column.
It also contains the New columns always begin with a . prefix to avoid overwriting columns in the original dataset."><meta property="og:description" content="Augment accepts a model object and a dataset and adds information about each observation in the dataset. It includes
predicted values in the .fitted column, residuals in the .resid column, and standard errors for the fitted values in a .se.fit column.
It also contains the New columns always begin with a . prefix to avoid overwriting columns in the original dataset."><meta property="og:image" content="https://davidbolin.github.io/MetricGraph/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MetricGraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/MetricGraph.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/metric_graph.html">Working with metric graphs</a></li>
    <li><a class="dropdown-item" href="../articles/random_fields.html">Gaussian random fields on metric graphs</a></li>
    <li><a class="dropdown-item" href="../articles/metric_graph_data.html">Data manipulation on metric graphs</a></li>
    <li><a class="dropdown-item" href="../articles/inlabru_interface.html">inlabru interface of Whittle--Matern fields</a></li>
    <li><a class="dropdown-item" href="../articles/inla_interface.html">INLA interface of Whittle--Matern fields</a></li>
    <li><a class="dropdown-item" href="../articles/fem_models.html">Whittle--Matern fields with general smoothness</a></li>
    <li><a class="dropdown-item" href="../articles/pointprocess.html">Log-Gaussian Cox processes on metric graphs</a></li>
    <li><a class="dropdown-item" href="../articles/comparison.html">Comparison of different models using real data</a></li>
    <li><a class="dropdown-item" href="../articles/isotropic_noneuclidean.html">On isotropic covariances on metric graphs with non-Euclidean edges</a></li>
    <li><a class="dropdown-item" href="../articles/multi_likelihood.html">An example with multiple likelihoods in INLA and inlabru</a></li>
    <li><a class="dropdown-item" href="../articles/directional_model.html">An example with directional models</a></li>
    <li><a class="dropdown-item" href="../articles/river_example.html">An example with a river graph model</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidbolin/MetricGraph/discussions"><span class="fa fa-comments-o"></span> Discussions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidbolin/MetricGraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/jdavidbolin" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Augment data with information from a <code>graph_lme</code> object</h1>
      <small class="dont-index">Source: <a href="https://github.com/davidbolin/MetricGraph/blob/devel/R/graph_lme.R" class="external-link"><code>R/graph_lme.R</code></a></small>
      <div class="d-none name"><code>augment.graph_lme.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Augment accepts a model object and a dataset and adds information about each observation in the dataset. It includes
predicted values in the <code>.fitted</code> column, residuals in the <code>.resid</code> column, and standard errors for the fitted values in a <code>.se.fit</code> column.
It also contains the New columns always begin with a . prefix to avoid overwriting columns in the original dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'graph_lme'</span></span>
<span><span class="fu">augment</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which_repl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sd_post_re <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  se_fit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  conf_int <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pred_int <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  edge_number <span class="op">=</span> <span class="st">"edge_number"</span>,</span>
<span>  distance_on_edge <span class="op">=</span> <span class="st">"distance_on_edge"</span>,</span>
<span>  coord_x <span class="op">=</span> <span class="st">"coord_x"</span>,</span>
<span>  coord_y <span class="op">=</span> <span class="st">"coord_y"</span>,</span>
<span>  data_coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PtE"</span>, <span class="st">"spatial"</span><span class="op">)</span>,</span>
<span>  normalized <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  no_nugget <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check_euclidean <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>graph_lme</code> object.</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>A <code>data.frame</code> or a <code>list</code> containing the covariates, the edge
number and the distance on edge for the locations to obtain the prediction. If <code>NULL</code>, the fitted values will be given for the original locations where the model was fitted.</p></dd>


<dt id="arg-which-repl">which_repl<a class="anchor" aria-label="anchor" href="#arg-which-repl"></a></dt>
<dd><p>Which replicates to obtain the prediction. If <code>NULL</code> predictions
will be obtained for all replicates. Default is <code>NULL</code>.</p></dd>


<dt id="arg-sd-post-re">sd_post_re<a class="anchor" aria-label="anchor" href="#arg-sd-post-re"></a></dt>
<dd><p>Logical indicating whether or not a .sd_post_re column should be added to the augmented output containing the posterior standard deviations of the random effects.</p></dd>


<dt id="arg-se-fit">se_fit<a class="anchor" aria-label="anchor" href="#arg-se-fit"></a></dt>
<dd><p>Logical indicating whether or not a .se_fit column should be added to the augmented output containing the standard errors of the fitted values. If <code>TRUE</code>, the posterior standard deviations of the random effects will also be returned.</p></dd>


<dt id="arg-conf-int">conf_int<a class="anchor" aria-label="anchor" href="#arg-conf-int"></a></dt>
<dd><p>Logical indicating whether or not confidence intervals for the posterior mean of the random effects should be built.</p></dd>


<dt id="arg-pred-int">pred_int<a class="anchor" aria-label="anchor" href="#arg-pred-int"></a></dt>
<dd><p>Logical indicating whether or not prediction intervals for the fitted values should be built. If <code>TRUE</code>, the confidence intervals for the posterior random effects will also be built.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Level of confidence and prediction intervals if they are constructed.</p></dd>


<dt id="arg-edge-number">edge_number<a class="anchor" aria-label="anchor" href="#arg-edge-number"></a></dt>
<dd><p>Name of the variable that contains the edge number, the
default is <code>edge_number</code>.</p></dd>


<dt id="arg-distance-on-edge">distance_on_edge<a class="anchor" aria-label="anchor" href="#arg-distance-on-edge"></a></dt>
<dd><p>Name of the variable that contains the distance on
edge, the default is <code>distance_on_edge</code>.</p></dd>


<dt id="arg-coord-x">coord_x<a class="anchor" aria-label="anchor" href="#arg-coord-x"></a></dt>
<dd><p>Column (or entry on the list) of the <code>data</code> that contains
the x coordinate. If not supplied, the column with name "coord_x" will be
chosen. Will not be used if <code>Spoints</code> is not <code>NULL</code> or if <code>data_coords</code> is
<code>PtE</code>.</p></dd>


<dt id="arg-coord-y">coord_y<a class="anchor" aria-label="anchor" href="#arg-coord-y"></a></dt>
<dd><p>Column (or entry on the list) of the <code>data</code> that contains
the y coordinate. If not supplied, the column with name "coord_x" will be
chosen. Will not be used if <code>Spoints</code> is not <code>NULL</code> or if <code>data_coords</code> is
<code>PtE</code>.</p></dd>


<dt id="arg-data-coords">data_coords<a class="anchor" aria-label="anchor" href="#arg-data-coords"></a></dt>
<dd><p>To be used only if <code>Spoints</code> is <code>NULL</code>. It decides which
coordinate system to use. If <code>PtE</code>, the user must provide <code>edge_number</code> and
<code>distance_on_edge</code>, otherwise if <code>spatial</code>, the user must provide
<code>coord_x</code> and <code>coord_y</code>.</p></dd>


<dt id="arg-normalized">normalized<a class="anchor" aria-label="anchor" href="#arg-normalized"></a></dt>
<dd><p>Are the distances on edges normalized?</p></dd>


<dt id="arg-no-nugget">no_nugget<a class="anchor" aria-label="anchor" href="#arg-no-nugget"></a></dt>
<dd><p>Should the prediction be done without nugget?</p></dd>


<dt id="arg-check-euclidean">check_euclidean<a class="anchor" aria-label="anchor" href="#arg-check-euclidean"></a></dt>
<dd><p>Check if the graph used to compute the resistance distance has Euclidean edges? The graph used to compute the resistance distance has the observation locations as vertices.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="https://tidyr.tidyverse.org/reference/reexports.html" class="external-link">tidyr::tibble()</a></code> with columns:</p><ul><li><p><code>.fitted</code> Fitted or predicted value.</p></li>
<li><p><code>.relwrconf</code> Lower bound of the confidence interval of the random effects, if conf_int = TRUE</p></li>
<li><p><code>.reuprconf</code> Upper bound of the confidence interval of the random effects, if conf_int = TRUE</p></li>
<li><p><code>.fittedlwrpred</code> Lower bound of the prediction interval, if conf_int = TRUE</p></li>
<li><p><code>.fitteduprpred</code> Upper bound of the prediction interval, if conf_int = TRUE</p></li>
<li><p><code>.fixed</code> Prediction of the fixed effects.</p></li>
<li><p><code>.random</code> Prediction of the random effects.</p></li>
<li><p><code>.resid</code> The ordinary residuals, that is, the difference between observed and fitted values.</p></li>
<li><p><code>.std_resid</code> The standardized residuals, that is, the ordinary residuals divided by the standard error of the fitted values (by the prediction standard error), if se_fit = TRUE or pred_int = TRUE.</p></li>
<li><p><code>.se_fit</code> Standard errors of fitted values, if se_fit = TRUE.</p></li>
<li><p><code>.sd_post_re</code> Standard deviation of the posterior mean of the random effects, if se_fit = TRUE.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="glance.graph_lme.html">glance.graph_lme</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Bolin, Alexandre Simas, Jonas Wallin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

